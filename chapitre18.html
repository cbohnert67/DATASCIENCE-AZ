<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapitre 18: Les Arbres de D√©cision</title>
    <!-- Int√©gration de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Int√©gration de Google Fonts (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- Int√©gration de MathJax pour les formules math√©matiques -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        /* Style personnalis√© pour le corps du texte */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Style pour les titres avec un d√©grad√© */
        .gradient-text {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }
        /* Style pour les blocs de code */
        pre code {
            background-color: #1E2D3B; /* gray-800 */
            color: #E2E8F0; /* gray-300 */
            padding: 1rem;
            border-radius: 0.5rem;
            display: block;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        /* Styles pour la coloration syntaxique du Python */
        .code-keyword { color: #C586C0; } /* Magenta for keywords like import, from */
        .code-function { color: #DCDCAA; } /* Yellow for function names */
        .code-string { color: #CE9178; } /* Orange for strings */
        .code-comment { color: #6A9955; font-style: italic; } /* Green and italic for comments */
        .code-number { color: #B5CEA8; } /* Light green/blue for numbers */
        .code-builtin { color: #569CD6; } /* Blue for built-in functions like print */
        .code-operator { color: #d4d4d4; } /* Default color for operators */
        .code-variable { color: #9CDCFE; } /* Light blue for variables */
    </style>
</head>
<body class="bg-gray-900 text-gray-300">

    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight gradient-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-4">
                Chapitre 18. Les Arbres de D√©cision - Le Machine Learning pour tous
            </h1>
        </header>

        <main class="space-y-10">

            <section class="bg-gray-800/50 p-6 rounded-lg border border-gray-700 shadow-lg">
                <p class="text-lg md:text-xl text-justify leading-relaxed">
                    Vous souvenez-vous du jeu "Qui est-ce ?" ? Vous posez une s√©rie de questions "oui/non" pour deviner le personnage de votre adversaire : "Votre personnage a-t-il des lunettes ?", "Est-ce un homme ?", "Porte-t-il un chapeau ?". Chaque question r√©duit le champ des possibilit√©s jusqu'√† ce qu'il n'en reste plus qu'une. Un arbre de d√©cision fait exactement la m√™me chose avec les donn√©es. C'est un mod√®le si visuel que vous pourriez le dessiner et l'expliquer √† votre grand-m√®re. C'est l'antith√®se de la "bo√Æte noire" : ici, chaque d√©cision est transparente.
                </p>
            </section>

            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">L'art de poser les bonnes questions</h2>
                <div class="bg-gray-800 p-6 rounded-lg border border-gray-700 space-y-6">
                    <p class="text-justify">
                        Comment l'arbre choisit-il la meilleure question √† poser √† chaque √©tape ? Il ne le fait pas au hasard. Il cherche la question la plus efficace, celle qui s√©pare le mieux les donn√©es en groupes les plus <strong>homog√®nes</strong> possible.
                    </p>
                    <p class="text-justify">
                        Imaginez que vous avez un panier de 10 fruits : 6 pommes et 4 bananes. Ce groupe est "impur" car il contient deux classes diff√©rentes. Une bonne question serait "Le fruit est-il jaune ?". La r√©ponse "oui" pourrait vous donner un groupe de 4 bananes et 1 pomme, et la r√©ponse "non" un groupe de 5 pommes et 0 banane. Vous avez cr√©√© des groupes bien plus "purs" qu'au d√©part. Mais comment mesurer cela pr√©cis√©ment ?
                    </p>
                    
                    <div class="bg-gray-900/50 p-4 rounded-lg">
                        <h3 class="font-bold text-xl text-blue-300 mb-3">Mesurer le d√©sordre : L'Impuret√© de Gini</h3>
                        <p class="text-justify mb-4">L'Impuret√© de Gini est une m√©trique qui mesure la probabilit√© de se tromper en classifiant un √©l√©ment au hasard d'un groupe, si on le classifiait en se basant sur la distribution des classes dans ce groupe. Un score de Gini de 0 signifie une puret√© parfaite (tous les √©l√©ments du groupe appartiennent √† la m√™me classe).</p>
                        <div class="bg-gray-800/70 p-4 rounded-md text-center my-4">
                            <p class="text-xl font-bold text-gray-200">$$ Gini = 1 - \sum_{i=1}^{C} (p_i)^2 $$</p>
                            <p class="text-sm text-gray-400 italic mt-2">O√π \(p_i\) est la probabilit√© de la classe \(i\) dans le groupe.</p>
                        </div>
                        <p class="text-justify"><strong>Exemple avec notre panier de fruits :</strong></p>
                        <ul class="list-disc list-inside space-y-2 pl-4 mt-2">
                            <li><strong>Avant la question (n≈ìud parent) :</strong> 6 pommes (60%), 4 bananes (40%).
                                <br>Impuret√© Gini = \(1 - (0.6^2 + 0.4^2) = 1 - (0.36 + 0.16) = 0.48\)</li>
                            <li><strong>Apr√®s la question "non" (enfant 1) :</strong> 5 pommes (100%), 0 banane (0%).
                                <br>Impuret√© Gini = \(1 - (1^2 + 0^2) = 0\). Ce n≈ìud est pur !</li>
                            <li><strong>Apr√®s la question "oui" (enfant 2) :</strong> 1 pomme (20%), 4 bananes (80%).
                                <br>Impuret√© Gini = \(1 - (0.2^2 + 0.8^2) = 1 - (0.04 + 0.64) = 0.32\)</li>
                        </ul>
                    </div>

                    <div class="bg-gray-900/50 p-4 rounded-lg">
                         <h3 class="font-bold text-xl text-blue-300 mb-3">Maximiser le Gain d'Information</h3>
                         <p class="text-justify mb-4">L'arbre ne choisit pas une question pour sa beaut√©, mais pour sa capacit√© √† <strong>r√©duire l'impuret√©</strong>. Cette r√©duction est appel√©e le Gain d'Information (ou Gini Gain). L'algorithme calcule l'impuret√© pond√©r√©e des enfants et la soustrait de l'impuret√© du parent. Il choisira la question qui donne le plus grand gain.</p>
                         <p class="text-justify">
                         L'algorithme va donc tester toutes les questions possibles ("Le fruit p√®se-t-il plus de 150g ?", "Sa largeur est-elle inf√©rieure √† 8cm ?", etc.) et choisir celle qui maximise ce gain. Il r√©p√®te ce processus √† chaque nouvelle branche, en choisissant toujours la meilleure option localement, d'o√π le terme d'approche "gourmande" (greedy).
                         </p>
                    </div>
                </div>
            </section>
            
            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Avantages et Inconv√©nients : Le Bilan</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-green-500/10 p-6 rounded-lg border border-green-500/30 space-y-4">
                        <h3 class="text-2xl font-bold text-green-400 mb-3">Avantages üëç</h3>
                        <div>
                            <h4 class="font-bold text-lg text-white">Interpr√©tabilit√© totale (Bo√Æte Blanche)</h4>
                            <p class="text-sm text-justify">Contrairement √† un r√©seau de neurones, vous pouvez visualiser l'arbre et suivre chaque d√©cision. C'est id√©al pour expliquer les pr√©dictions √† un non-expert ou pour des domaines o√π la justification est cruciale (m√©decine, finance).</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg text-white">Aucune pr√©paration de donn√©es</h4>
                            <p class="text-sm text-justify">Pas besoin de centrer-r√©duire (scaler) vos donn√©es. L'arbre fonctionne avec des seuils (ex: `Age > 30`), donc l'√©chelle des variables n'a pas d'importance.</p>
                        </div>
                         <div>
                            <h4 class="font-bold text-lg text-white">Capture les relations non-lin√©aires</h4>
                            <p class="text-sm text-justify">Un mod√®le lin√©aire aurait du mal avec une r√®gle comme "si l'√¢ge est inf√©rieur √† 10 ou sup√©rieur √† 65". Un arbre peut facilement cr√©er deux branches distinctes pour capturer cette relation complexe.</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg text-white">Polyvalence</h4>
                            <p class="text-sm text-justify">Il fonctionne nativement pour la classification (pr√©dire la classe majoritaire de la feuille finale) et la r√©gression (pr√©dire la moyenne des valeurs de la feuille finale).</p>
                        </div>
                    </div>
                    <div class="bg-red-500/10 p-6 rounded-lg border border-red-500/30 space-y-4">
                        <h3 class="text-2xl font-bold text-red-400 mb-3">Inconv√©nients üëé</h3>
                        <div>
                            <h4 class="font-bold text-lg text-white">Tendance √† l'overfitting</h4>
                            <p class="text-sm text-justify">Sans contraintes (comme `max_depth`), un arbre continuera de se diviser jusqu'√† ce que chaque feuille soit pure. Il apprendra le bruit par c≈ìur et ne g√©n√©ralisera pas bien (haute variance).</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg text-white">Instabilit√©</h4>
                            <p class="text-sm text-justify">Un petit changement dans les donn√©es d'entra√Ænement (ajouter ou enlever quelques points) peut entra√Æner la construction d'un arbre compl√®tement diff√©rent. Ce manque de robustesse est un vrai probl√®me.</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg text-white">Biais envers les classes majoritaires</h4>
                            <p class="text-sm text-justify">Si une classe est beaucoup plus fr√©quente, l'arbre sera incit√© √† la pr√©dire plus souvent car cela r√©duit rapidement l'impuret√© globale. Il faut souvent utiliser des techniques de r√©√©quilibrage.</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg text-white">Fronti√®res en "escalier"</h4>
                            <p class="text-sm text-justify">Les questions de l'arbre sont toujours perpendiculaires aux axes des features. Il ne peut pas cr√©er de fronti√®res de d√©cision diagonales, ce qui peut √™tre tr√®s inefficace pour s√©parer certains types de donn√©es.
                            <br>[Image d'une fronti√®re de d√©cision en escalier vs diagonale]
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Visualiser les d√©cisions avec le dataset Iris</h2>
                <div class="bg-gray-800 p-6 rounded-lg border border-gray-700 space-y-6">
                    <p class="text-justify">Utilisons le c√©l√®bre jeu de donn√©es "Iris" pour entra√Æner un arbre. Ce dataset contient des mesures (longueur/largeur des p√©tales et s√©pales) pour trois esp√®ces de fleurs d'iris (Setosa, Versicolor, Virginica). Le but est de pr√©dire l'esp√®ce √† partir des mesures.</p>
                    
                    <div>
                        <h3 class="font-bold text-xl text-blue-300 mb-3">Le Code, √âtape par √âtape</h3>
                        <p class="mb-4">Voici comment nous allons construire et visualiser notre arbre avec Scikit-Learn.</p>
                        <pre><code><span class="code-comment"># Imports n√©cessaires</span>
<span class="code-keyword">import</span> <span class="code-variable">matplotlib.pyplot</span> <span class="code-keyword">as</span> <span class="code-variable">plt</span>
<span class="code-keyword">from</span> <span class="code-variable">sklearn.datasets</span> <span class="code-keyword">import</span> <span class="code-variable">load_iris</span>
<span class="code-keyword">from</span> <span class="code-variable">sklearn.tree</span> <span class="code-keyword">import</span> <span class="code-variable">DecisionTreeClassifier, plot_tree</span>
<span class="code-keyword">from</span> <span class="code-variable">sklearn.model_selection</span> <span class="code-keyword">import</span> <span class="code-variable">train_test_split</span>

<span class="code-comment"># 1. Charger les donn√©es</span>
<span class="code-variable">iris</span> <span class="code-operator">=</span> <span class="code-function">load_iris</span>()
<span class="code-variable">X</span>, <span class="code-variable">y</span> <span class="code-operator">=</span> <span class="code-variable">iris</span>.<span class="code-variable">data</span>, <span class="code-variable">iris</span>.<span class="code-variable">target</span>

<span class="code-comment"># 2. S√©parer en ensembles d'entra√Ænement et de test</span>
<span class="code-variable">X_train</span>, <span class="code-variable">X_test</span>, <span class="code-variable">y_train</span>, <span class="code-variable">y_test</span> <span class="code-operator">=</span> <span class="code-function">train_test_split</span>(<span class="code-variable">X</span>, <span class="code-variable">y</span>, <span class="code-variable">random_state</span><span class="code-operator">=</span><span class="code-number">42</span>)

<span class="code-comment"># 3. Cr√©er et entra√Æner le mod√®le</span>
<span class="code-variable">tree_clf</span> <span class="code-operator">=</span> <span class="code-function">DecisionTreeClassifier</span>(<span class="code-variable">max_depth</span><span class="code-operator">=</span><span class="code-number">3</span>, <span class="code-variable">random_state</span><span class="code-operator">=</span><span class="code-number">42</span>)
<span class="code-variable">tree_clf</span>.<span class="code-function">fit</span>(<span class="code-variable">X_train</span>, <span class="code-variable">y_train</span>)

<span class="code-comment"># 4. Visualiser l'arbre</span>
<span class="code-variable">plt</span>.<span class="code-function">figure</span>(<span class="code-variable">figsize</span><span class="code-operator">=</span>(<span class="code-number">20</span>, <span class="code-number">10</span>))
<span class="code-function">plot_tree</span>(<span class="code-variable">tree_clf</span>, <span class="code-variable">feature_names</span><span class="code-operator">=</span><span class="code-variable">iris</span>.<span class="code-variable">feature_names</span>, <span class="code-variable">class_names</span><span class="code-operator">=</span><span class="code-variable">iris</span>.<span class="code-variable">target_names</span>, <span class="code-variable">filled</span><span class="code-operator">=</span><span class="code-keyword">True</span>, <span class="code-variable">rounded</span><span class="code-operator">=</span><span class="code-keyword">True</span>)
<span class="code-variable">plt</span>.<span class="code-function">show</span>()

<span class="code-comment"># 5. √âvaluer le mod√®le</span>
<span class="code-builtin">print</span>(<span class="code-function">f</span><span class="code-string">"Score du mod√®le sur les donn√©es de test : {tree_clf.score(X_test, y_test):.2%}"</span>)
</code></pre>
                    </div>
                    
                    <div class="my-6">
                         [Image d'un arbre de d√©cision visualis√© pour le dataset Iris]
                    </div>

                    <div class="bg-gray-900/50 p-6 rounded-lg border border-cyan-500/50">
                        <h3 class="font-bold text-xl text-cyan-300 mb-3">Interpr√©ter l'Arbre : Suivons une Fleur !</h3>
                        <p class="mb-4 text-justify">Imaginons une nouvelle fleur avec les caract√©ristiques suivantes : <strong>largeur de p√©tale = 1.5 cm</strong> et <strong>longueur de p√©tale = 4.5 cm</strong>. Voyons comment notre arbre la classifie :</p>
                        <ol class="list-decimal list-inside space-y-3">
                            <li><strong>N≈ìud Racine (tout en haut) :</strong> La premi√®re question est "largeur de p√©tale ‚â§ 0.8 cm ?". Notre fleur a 1.5 cm, donc la r√©ponse est <strong>Faux</strong>. On suit la branche de droite.</li>
                            <li><strong>N≈ìud Suivant :</strong> La nouvelle question est "largeur de p√©tale ‚â§ 1.75 cm ?". Notre fleur a 1.5 cm, donc la r√©ponse est <strong>Vrai</strong>. On suit la branche de gauche.</li>
                            <li><strong>Troisi√®me N≈ìud :</strong> La question est "longueur de p√©tale ‚â§ 4.95 cm ?". Notre fleur a 4.5 cm, donc la r√©ponse est <strong>Vrai</strong>. On suit la branche de gauche.</li>
                            <li><strong>Feuille Finale :</strong> On arrive √† un n≈ìud terminal (une "feuille"). Le champ `class` indique `versicolor`. Le mod√®le a parl√© ! Il pr√©dit que notre fleur est une <strong>Iris versicolor</strong>.</li>
                        </ol>
                        <p class="mt-4 text-justify">Le score final de <strong>100%</strong> sur les donn√©es de test montre que, pour ce probl√®me particulier et avec cette s√©paration des donn√©es, notre arbre simple a parfaitement r√©ussi √† g√©n√©raliser et √† classifier correctement toutes les fleurs qu'il n'avait jamais vues.</p>
                    </div>
                </div>
            </section>

            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Challenge : Moins, c'est mieux ?</h2>
                <div class="bg-gray-800 p-6 rounded-lg border border-gray-700 space-y-4">
                    <p class="text-lg text-justify">Le dataset Iris a 4 "features". Que se passe-t-il si on en utilise moins ? Moins d'informations m√®ne-t-il forc√©ment √† un moins bon mod√®le ?</p>
                    <div>
                        <h3 class="font-bold text-cyan-300">Votre mission :</h3>
                        <ul class="list-decimal list-inside pl-4 mt-2 space-y-1">
                            <li>Entra√Ænez un nouvel arbre de d√©cision en n'utilisant que deux features : `petal length (cm)` et `petal width (cm)`. Gardez `max_depth=3`.</li>
                            <li>Visualisez ce nouvel arbre.</li>
                            <li>Comparez son score de performance sur l'ensemble de test √† celui de l'arbre complet.</li>
                        </ul>
                    </div>
                    <details class="bg-gray-900/50 p-4 rounded-md cursor-pointer">
                        <summary class="font-bold text-cyan-300">Cliquez ici pour voir la solution et l'interpr√©tation</summary>
                        <div class="mt-4">
                            <pre><code><span class="code-comment"># 1. Entra√Æner un nouvel arbre avec seulement 2 features</span>
<span class="code-comment"># X contient les 4 colonnes, on s√©lectionne les 2 derni√®res (indices 2 et 3)</span>
<span class="code-variable">X_simple</span> <span class="code-operator">=</span> <span class="code-variable">iris</span>.<span class="code-variable">data</span>[:, <span class="code-number">2</span>:] 
<span class="code-variable">y_simple</span> <span class="code-operator">=</span> <span class="code-variable">iris</span>.<span class="code-variable">target</span>
<span class="code-variable">feature_names_simple</span> <span class="code-operator">=</span> <span class="code-variable">iris</span>.<span class="code-variable">feature_names</span>[<span class="code-number">2</span>:]

<span class="code-variable">X_train_s</span>, <span class="code-variable">X_test_s</span>, <span class="code-variable">y_train_s</span>, <span class="code-variable">y_test_s</span> <span class="code-operator">=</span> <span class="code-function">train_test_split</span>(<span class="code-variable">X_simple</span>, <span class="code-variable">y_simple</span>, <span class="code-variable">random_state</span><span class="code-operator">=</span><span class="code-number">42</span>)

<span class="code-variable">simple_tree_clf</span> <span class="code-operator">=</span> <span class="code-function">DecisionTreeClassifier</span>(<span class="code-variable">max_depth</span><span class="code-operator">=</span><span class="code-number">3</span>, <span class="code-variable">random_state</span><span class="code-operator">=</span><span class="code-number">42</span>)
<span class="code-variable">simple_tree_clf</span>.<span class="code-function">fit</span>(<span class="code-variable">X_train_s</span>, <span class="code-variable">y_train_s</span>)

<span class="code-comment"># 2. Visualiser le nouvel arbre (code omis pour la concision)</span>

<span class="code-comment"># 3. Comparer les performances</span>
<span class="code-builtin">print</span>(<span class="code-function">f</span><span class="code-string">"Score de l'arbre simple (2 features) : {simple_tree_clf.score(X_test_s, y_test_s):.2%}"</span>)
<span class="code-builtin">print</span>(<span class="code-function">f</span><span class="code-string">"Score de l'arbre complet (4 features) : {tree_clf.score(X_test, y_test):.2%}"</span>)
</code></pre>
                            <div class="mt-4 p-4 bg-gray-800 rounded-lg border border-gray-600">
                                <h4 class="font-bold text-lg text-green-300">Interpr√©tation :</h4>
                                <p class="mt-2 text-justify">Int√©ressant ! Le score de l'arbre simple est de 100%, tout comme celui de l'arbre complet. Cela nous apprend une le√ßon cruciale : toutes les features ne sont pas √©gales. Parfois, un sous-ensemble de variables tr√®s informatives est suffisant pour obtenir d'excellentes performances, et ajouter plus de variables n'aide pas forc√©ment (et peut m√™me parfois augmenter le risque d'overfitting).</p>
                            </div>
                        </div>
                    </details>
                </div>
            </section>

            <section id="quiz">
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Testez vos connaissances !</h2>
                <div class="space-y-8">
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">1. Quel est l'objectif principal d'un arbre de d√©cision √† chaque √©tape ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) Poser une question au hasard.</button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) Trouver la question qui rend les groupes r√©sultants les plus purs possible.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) Cr√©er le plus de branches possible.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) Utiliser toutes les variables disponibles dans chaque question.</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">2. Qu'indique un score d'impuret√© de Gini de 0.0 ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) Le groupe de donn√©es est parfaitement m√©lang√©.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) Le mod√®le est en situation de surapprentissage.</button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) Le groupe de donn√©es ne contient qu'une seule classe (puret√© parfaite).</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) Le mod√®le n'est pas encore entra√Æn√©.</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">3. Lequel de ces √©nonc√©s est un inconv√©nient majeur des arbres de d√©cision ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                             <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) Ils sont difficiles √† interpr√©ter.</button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) Ils sont tr√®s sujets √† l'overfitting.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) Ils ne peuvent pas g√©rer de donn√©es num√©riques.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) Ils n√©cessitent une mise √† l'√©chelle des donn√©es.</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">4. Dans la visualisation `plot_tree`, que repr√©sente le champ "value" dans un n≈ìud ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) La question pos√©e par le n≈ìud.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) Le score d'impuret√© de Gini.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) Le nombre total d'√©chantillons dans le n≈ìud.</button>
                             <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) La r√©partition des √©chantillons entre les diff√©rentes classes.</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">5. Un arbre de d√©cision peut-il √™tre utilis√© pour pr√©dire le prix d'une maison ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) Oui, il peut √™tre utilis√© pour des probl√®mes de r√©gression.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) Non, il ne fonctionne que pour la classification.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) Seulement si le prix est une cat√©gorie (ex: "cher", "pas cher").</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) Non, car le prix est une valeur continue.</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                </div>
            </section>

            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Questions pour approfondir</h2>
                 <div class="space-y-4 text-lg">
                    <p><strong>1. Stabilit√© :</strong> Si vous changiez l√©g√®rement les donn√©es d'entra√Ænement (en enlevant ou ajoutant quelques fleurs), l'arbre de d√©cision que nous avons construit changerait-il beaucoup ? Pourquoi est-ce un probl√®me potentiel ?</p>
                    <p><strong>2. Au-del√† de Gini :</strong> L'impuret√© de Gini n'est pas la seule m√©trique. Une autre, appel√©e "entropie", est souvent utilis√©e. En quoi le choix de la m√©trique d'impuret√© pourrait-il influencer la structure de l'arbre final ?</p>
                    <p><strong>3. Les limites orthogonales :</strong> Les arbres de d√©cision cr√©ent des fronti√®res de d√©cision "en escalier" (orthogonales aux axes). Pouvez-vous imaginer un type de donn√©es o√π cette approche serait tr√®s inefficace ? (Indice : pensez √† des donn√©es qui sont s√©par√©es par une ligne diagonale).</p>
                </div>
            </section>
        </main>

        <footer class="text-center mt-12 pt-8 border-t border-gray-700">
            <p class="text-gray-500">
                La Data Science de A √† Z pour les lyc√©ens
            </p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const quizQuestions = document.querySelectorAll('.quiz-question');
            quizQuestions.forEach(question => {
                const options = question.querySelectorAll('.quiz-option');
                const feedback = question.querySelector('.feedback');
                let hasAnswered = false;

                options.forEach(option => {
                    option.addEventListener('click', () => {
                        if (hasAnswered) return;
                        hasAnswered = true;

                        options.forEach(opt => {
                            opt.disabled = true;
                            opt.classList.remove('hover:bg-gray-600');
                        });

                        const isCorrect = option.getAttribute('data-correct') === 'true';
                        
                        if (isCorrect) {
                            option.classList.remove('bg-gray-700');
                            option.classList.add('bg-green-500', 'text-white', 'border', 'border-green-400');
                            feedback.textContent = "Bravo, c'est la bonne r√©ponse !";
                            feedback.classList.add('bg-green-500/30', 'border', 'border-green-500');
                        } else {
                            option.classList.remove('bg-gray-700');
                            option.classList.add('bg-red-500', 'text-white', 'border', 'border-red-400');
                            
                            const correctOption = question.querySelector('[data-correct="true"]');
                            correctOption.classList.remove('bg-gray-700');
                            correctOption.classList.add('bg-green-500', 'text-white', 'border', 'border-green-400');
                            
                            feedback.textContent = 'Dommage. La bonne r√©ponse est mise en surbrillance en vert.';
                            feedback.classList.add('bg-red-500/30', 'border', 'border-red-500');
                        }
                        feedback.classList.remove('hidden');
                    });
                });
            });
        });
    </script>
</body>
</html>

