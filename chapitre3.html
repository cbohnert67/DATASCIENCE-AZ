<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapitre 3: NumPy pour la Data Science</title>
    <!-- Intégration de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Intégration de Google Fonts (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Style personnalisé pour le corps du texte */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* Style pour les titres avec un dégradé */
        .gradient-text {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }
        /* Style pour les blocs de code */
        pre code {
            background-color: #1E293B; /* gray-800 */
            color: #E2E8F0; /* gray-300 */
            padding: 1rem;
            border-radius: 0.5rem;
            display: block;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        /* Styles for Python Syntax Highlighting */
        .code-keyword { color: #C586C0; } /* Magenta for keywords like def, if, for */
        .code-function { color: #DCDCAA; } /* Yellow for function names */
        .code-string { color: #CE9178; } /* Orange for strings */
        .code-comment { color: #6A9955; font-style: italic; } /* Green and italic for comments */
        .code-number { color: #B5CEA8; } /* Light green/blue for numbers */
        .code-builtin { color: #569CD6; } /* Blue for built-in functions like print */
        .code-operator { color: #d4d4d4; } /* Default color for operators */
        .code-variable { color: #9CDCFE; } /* Light blue for variables */
    </style>
</head>
<body class="bg-gray-900 text-gray-300">

    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight gradient-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-4">
                Chapitre 3. NumPy : L'arme secrète des Data Scientists pour manipuler les nombres
            </h1>
        </header>

        <main class="space-y-10">

            <section class="bg-gray-800/50 p-6 rounded-lg border border-gray-700 shadow-lg">
                <p class="text-lg md:text-xl text-justify leading-relaxed">
                    Dans le chapitre précédent, nous avons appris les instructions de base de Python, notamment les listes. Mais en data science, nous travaillons avec des milliers, voire des millions de données. À cette échelle, l'efficacité est une nécessité. Si les listes Python sont des breaks familiaux, les tableaux NumPy sont des Formule 1, conçus pour la vitesse de calcul à grande échelle.
                </p>
            </section>

            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Qu'est-ce qu'un tableau NumPy ?</h2>
                <p class="text-lg text-justify mb-6">
                   Un tableau NumPy (ou `ndarray`) est une grille de valeurs de n'importe quelle dimension. La différence fondamentale avec une liste Python est qu'un tableau NumPy est **homogène** : tous ses éléments doivent être du même type. C'est la clé de ses performances.
                </p>
                <div class="bg-gray-800 p-4 rounded-lg">
                    <h3 class="font-bold text-xl text-cyan-300 mb-2">La vitesse : Le super-pouvoir de NumPy</h3>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>Écrit en C :</strong> Le cœur de NumPy est écrit en langages compilés ultra-rapides.</li>
                        <li><strong>Opérations vectorielles :</strong> Au lieu d'une boucle `for` lente, NumPy applique une opération à tous les éléments simultanément. C'est la **vectorisation**.</li>
                        <li><strong>Stockage mémoire efficace :</strong> NumPy stocke les données de manière beaucoup plus compacte.</li>
                    </ul>
                </div>
            </section>
            
            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Manipuler les tableaux NumPy</h2>
                <p class="text-lg text-justify mb-4">Pour utiliser NumPy, la première étape est toujours la même : l'importer avec son alias conventionnel `np`.</p>
                <pre><code><span class="code-keyword">import</span> <span class="code-variable">numpy</span> <span class="code-keyword">as</span> <span class="code-variable">np</span></code></pre>

                <div class="mt-8 space-y-6">
                    <div>
                        <h3 class="text-xl font-bold text-blue-400 mb-2">1. Créer des tableaux</h3>
                        <pre><code><span class="code-comment"># À partir d'une liste</span>
<span class="code-variable">liste_py</span> <span class="code-operator">=</span> [<span class="code-number">1</span>, <span class="code-number">2</span>, <span class="code-number">3</span>, <span class="code-number">4</span>]
<span class="code-variable">tableau_np</span> <span class="code-operator">=</span> <span class="code-variable">np</span>.<span class="code-function">array</span>(<span class="code-variable">liste_py</span>)

<span class="code-comment"># Un tableau de zéros de taille 2x3</span>
<span class="code-variable">zeros</span> <span class="code-operator">=</span> <span class="code-variable">np</span>.<span class="code-function">zeros</span>((<span class="code-number">2</span>, <span class="code-number">3</span>))

<span class="code-comment"># Une séquence de nombres de 0 à 9</span>
<span class="code-variable">sequence</span> <span class="code-operator">=</span> <span class="code-variable">np</span>.<span class="code-function">arange</span>(<span class="code-number">10</span>)</code></pre>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold text-blue-400 mb-2">2. Opérations de base</h3>
                        <pre><code><span class="code-variable">a</span> <span class="code-operator">=</span> <span class="code-variable">np</span>.<span class="code-function">array</span>([<span class="code-number">10</span>, <span class="code-number">20</span>, <span class="code-number">30</span>])
<span class="code-variable">b</span> <span class="code-operator">=</span> <span class="code-variable">np</span>.<span class="code-function">array</span>([<span class="code-number">1</span>, <span class="code-number">2</span>, <span class="code-number">3</span>])

<span class="code-builtin">print</span>(<span class="code-variable">a</span> <span class="code-operator">+</span> <span class="code-variable">b</span>) <span class="code-comment"># Résultat : [11 22 33]</span>
<span class="code-builtin">print</span>(<span class="code-variable">a</span> <span class="code-operator">*</span> <span class="code-number">2</span>) <span class="code-comment"># Résultat : [20 40 60]</span></code></pre>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold text-blue-400 mb-2">3. Indexation et Slicing</h3>
                        <pre><code><span class="code-variable">data</span> <span class="code-operator">=</span> <span class="code-variable">np</span>.<span class="code-function">array</span>([ [<span class="code-number">1</span>, <span class="code-number">2</span>, <span class="code-number">3</span>], [<span class="code-number">4</span>, <span class="code-number">5</span>, <span class="code-number">6</span>], [<span class="code-number">7</span>, <span class="code-number">8</span>, <span class="code-number">9</span>] ])

<span class="code-comment"># Accéder à l'élément de la ligne 1, colonne 2 (le chiffre 6)</span>
<span class="code-builtin">print</span>(<span class="code-variable">data</span>[<span class="code-number">1</span>, <span class="code-number">2</span>])

<span class="code-comment"># Obtenir la première ligne (index 0)</span>
<span class="code-builtin">print</span>(<span class="code-variable">data</span>[<span class="code-number">0</span>, :]) <span class="code-comment"># Affiche [1 2 3]</span>

<span class="code-comment"># Obtenir la deuxième colonne (index 1)</span>
<span class="code-builtin">print</span>(<span class="code-variable">data</span>[:, <span class="code-number">1</span>]) <span class="code-comment"># Affiche [2 5 8]</span></code></pre>
                    </div>
                </div>
            </section>

            <section class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                <h2 class="text-2xl font-bold text-cyan-400 mb-4">Challenge pour vous !</h2>
                <p class="text-lg text-justify mb-4">
                    Créez un tableau NumPy de 5x5 avec des entiers aléatoires entre 0 et 20. Ensuite, sans utiliser de boucle `for`, calculez la somme totale, la moyenne de chaque colonne, et remplacez les valeurs > 10 par -1.
                </p>
                <details class="bg-gray-700 p-4 rounded-md cursor-pointer">
                    <summary class="font-bold text-cyan-300">Cliquez ici pour voir la solution</summary>
                    <pre class="mt-4"><code><span class="code-keyword">import</span> <span class="code-variable">numpy</span> <span class="code-keyword">as</span> <span class="code-variable">np</span>

<span class="code-variable">tableau_aleatoire</span> <span class="code-operator">=</span> <span class="code-variable">np</span>.<span class="code-variable">random</span>.<span class="code-function">randint</span>(<span class="code-number">0</span>, <span class="code-number">21</span>, <span class="code-variable">size</span><span class="code-operator">=</span>(<span class="code-number">5</span>, <span class="code-number">5</span>))
<span class="code-builtin">print</span>(<span class="code-string">"Tableau original :\n"</span>, <span class="code-variable">tableau_aleatoire</span>)

<span class="code-variable">somme_totale</span> <span class="code-operator">=</span> <span class="code-variable">tableau_aleatoire</span>.<span class="code-function">sum</span>()
<span class="code-builtin">print</span>(<span class="code-string">"\nSomme totale :"</span>, <span class="code-variable">somme_totale</span>)

<span class="code-variable">moyenne_colonnes</span> <span class="code-operator">=</span> <span class="code-variable">tableau_aleatoire</span>.<span class="code-function">mean</span>(<span class="code-variable">axis</span><span class="code-operator">=</span><span class="code-number">0</span>)
<span class="code-builtin">print</span>(<span class="code-string">"\nMoyenne par colonne :"</span>, <span class="code-variable">moyenne_colonnes</span>)

<span class="code-variable">tableau_aleatoire</span>[<span class="code-variable">tableau_aleatoire</span> <span class="code-operator">></span> <span class="code-number">10</span>] <span class="code-operator">=</span> <span class="code-number">-1</span>
<span class="code-builtin">print</span>(<span class="code-string">"\nTableau modifié :\n"</span>, <span class="code-variable">tableau_aleatoire</span>)
</code></pre>
                </details>
            </section>

            <section id="quiz">
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Testez vos connaissances !</h2>
                <div class="space-y-8">
                    <!-- Question 1 -->
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">1. Quelle est la principale différence entre une liste Python et un tableau NumPy ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) NumPy ne peut contenir que des nombres.</button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) Un tableau NumPy doit contenir des éléments de même type (homogène).</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) Les listes sont plus rapides pour les calculs.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) NumPy ne peut pas stocker de texte.</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                    <!-- Question 2 -->
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">2. L'application d'une opération à tous les éléments d'un tableau en une seule fois s'appelle...</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) Le broadcasting</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) Le slicing</button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) La vectorisation</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) La compilation</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                    <!-- Question 3 -->
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">3. Pour un tableau 2D `data`, que retourne `data[1, :]` ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) La première ligne.</button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) La deuxième ligne.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) La première colonne.</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) La deuxième colonne.</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                     <!-- Question 4 -->
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">4. Quel mécanisme permet à NumPy d'effectuer des opérations sur des tableaux de formes différentes (ex: `tableau + 5`) ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                             <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) La vectorisation</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) L'indexation booléenne</button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) Le slicing</button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) Le broadcasting</button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                    <!-- Question 5 -->
                    <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <p class="font-bold text-lg mb-4">5. Quelle est la convention standard pour importer la bibliothèque NumPy en Python ?</p>
                        <div class="options grid grid-cols-1 md:grid-cols-2 gap-3">
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">a) <code>import numpy</code></button>
                            <button data-correct="true" class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">b) <code>import numpy as np</code></button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">c) <code>import np</code></button>
                            <button class="quiz-option w-full text-left p-3 rounded-md bg-gray-700 hover:bg-gray-600 transition">d) <code>include numpy</code></button>
                        </div>
                        <div class="feedback hidden mt-4 p-3 rounded-md text-white"></div>
                    </div>
                </div>
            </section>

            <section>
                <h2 class="text-3xl font-bold text-cyan-400 border-b-2 border-cyan-400/30 pb-2 mb-6">Questions pour aller plus loin</h2>
                 <div class="space-y-4 text-lg">
                    <p><strong>1. NumPy et les images :</strong> Une image en noir et blanc peut être représentée comme un tableau 2D de pixels. Comment utiliseriez-vous NumPy pour éclaircir une image ?</p>
                    <p><strong>2. Les limites de NumPy :</strong> Serait-il un bon outil pour analyser un livre et compter la fréquence de chaque mot ? Pourquoi ?</p>
                    <p><strong>3. L'attribut `.shape` :</strong> Tous les tableaux NumPy ont un attribut `.shape` qui retourne leurs dimensions. Créez des tableaux 1D, 2D et 3D et affichez leur `.shape`.</p>
                </div>
            </section>
        </main>

        <footer class="text-center mt-12 pt-8 border-t border-gray-700">
            <p class="text-gray-500">
                La Data Science de A à Z pour les lycéens
            </p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const quizQuestions = document.querySelectorAll('.quiz-question');
            quizQuestions.forEach(question => {
                const options = question.querySelectorAll('.quiz-option');
                const feedback = question.querySelector('.feedback');
                options.forEach(option => {
                    option.addEventListener('click', () => {
                        options.forEach(opt => {
                            opt.disabled = true;
                            opt.classList.remove('hover:bg-gray-600');
                        });
                        const isCorrect = option.getAttribute('data-correct') === 'true';
                        if (isCorrect) {
                            option.classList.remove('bg-gray-700');
                            option.classList.add('bg-green-500', 'text-white');
                            feedback.textContent = 'Bravo, c\'est la bonne réponse !';
                            feedback.classList.add('bg-green-500/30', 'border', 'border-green-500');
                        } else {
                            option.classList.remove('bg-gray-700');
                            option.classList.add('bg-red-500', 'text-white');
                            const correctOption = question.querySelector('[data-correct="true"]');
                            correctOption.classList.remove('bg-gray-700');
                            correctOption.classList.add('bg-green-500', 'text-white');
                            feedback.textContent = 'Dommage. La bonne réponse est mise en surbrillance en vert.';
                            feedback.classList.add('bg-red-500/30', 'border', 'border-red-500');
                        }
                        feedback.classList.remove('hidden');
                    });
                });
            });
        });
    </script>
</body>
</html>
